ALTER TABLE `blade_wf_form` ADD COLUMN `app_content` longtext NULL COMMENT 'app表单内容' AFTER `content`;
ALTER TABLE `blade_wf_form_history` ADD COLUMN `app_content` longtext NULL COMMENT 'app表单内容' AFTER `content`;
ALTER TABLE `blade_wf_deployment_form` ADD COLUMN `app_content` longtext NULL COMMENT 'app表单内容' AFTER `content`;

UPDATE `blade_wf_form` SET `form_key` = 'leave', `name` = '请假流程表单', `content` = '{column:[{type:\'datetimerange\',label:\'请假时间\',span:12,display:true,format:\'yyyy-MM-dd HH:mm:ss\',valueFormat:\'yyyy-MM-dd HH:mm:ss\',prop:\'datetime\',required:true,rules:[{required:true,message:\'开始时间必须填写\'}],change:(res) => {\r\n  const value = res.value\r\n  if (!value || value.length == 0) {\r\n    this.$set(this.form, \'days\', undefined)\r\n  } else {\r\n    const d1 = Date.parse(value[0])\r\n    const d2 = Date.parse(value[1])\r\n    const day = (d2-d1)/(1*24*60*60*1000)\r\n    this.$set(this.form, \'days\', Number(day.toFixed(2)))\r\n  }\r\n}},{type:\'number\',label:\'请假天数\',span:12,display:true,prop:\'days\',required:true,rules:[{required:true,message:\'请假天数必须填写\'}],controls:true,controlsPosition:\'right\',change:(res) => {\n  const value = res.value\n  if (value) this.$set(this.form, \'reason\',\'请假\' + value + \'天\' )\n  else this.$set(this.form, \'reason\',\'\')\n}},{type:\'textarea\',label:\'请假理由\',span:24,display:true,prop:\'reason\',required:true,rules:[{required:true,message:\'请假理由必须填写\'}]}],labelPosition:\'left\',labelSuffix:\'：\',labelWidth:120,gutter:0,menuBtn:true,submitBtn:true,submitText:\'提交\',emptyBtn:true,emptyText:\'清空\',menuPosition:\'center\'}', `app_content` = '{\"column\":[{\"type\":\"datetimerange\",\"label\":\"请假时间\",\"span\":12,\"display\":true,\"format\":\"yyyy-MM-dd HH:mm:ss\",\"valueFormat\":\"yyyy-MM-dd HH:mm:ss\",\"prop\":\"datetime\",\"required\":true,\"rules\":[{\"required\":true,\"message\":\"开始时间必须填写\"}],\"change\":\"(res) => {\\r\\n  const value = res.value\\r\\n  if (!value || value.length == 0) {\\r\\n    this.$set(this.form, \'days\', undefined)\\r\\n  } else {\\r\\n    const d1 = Date.parse(value[0])\\r\\n    const d2 = Date.parse(value[1])\\r\\n    const day = (d2-d1)/(1*24*60*60*1000)\\r\\n    this.$set(this.form, \'days\', Number(day.toFixed(2)))\\r\\n  }\\r\\n}\"},{\"type\":\"number\",\"label\":\"请假天数\",\"span\":12,\"display\":true,\"prop\":\"days\",\"required\":true,\"rules\":[{\"required\":true,\"message\":\"请假天数必须填写\"}],\"controls\":true,\"controlsPosition\":\"right\",\"change\":\"(res) => {\\n  const value = res.value\\n  if (value) this.$set(this.form, \'reason\',\'请假\' + value + \'天\' )\\n  else this.$set(this.form, \'reason\',\'\')\\n}\"},{\"type\":\"textarea\",\"label\":\"请假理由\",\"span\":24,\"display\":true,\"prop\":\"reason\",\"required\":true,\"rules\":[{\"required\":true,\"message\":\"请假理由必须填写\"}]}],\"labelPosition\":\"left\",\"labelSuffix\":\"：\",\"labelWidth\":120,\"gutter\":0,\"menuBtn\":true,\"submitBtn\":true,\"submitText\":\"提交\",\"emptyBtn\":true,\"emptyText\":\"清空\",\"menuPosition\":\"center\"}', `version` = 1, `category_id` = -1, `remark` = '', `create_user` = 1123598821738675201, `create_dept` = 1123598813738675201, `create_time` = '2021-06-01 22:06:20', `update_user` = 1123598821738675201, `update_time` = '2021-10-31 20:19:16', `status` = 1, `is_deleted` = 0, `tenant_id` = '000000' WHERE `id` = 1399729025840140290;
INSERT INTO `blade_wf_form` (`id`, `form_key`, `name`, `content`, `app_content`, `version`, `category_id`, `remark`, `create_user`, `create_dept`, `create_time`, `update_user`, `update_time`, `status`, `is_deleted`, `tenant_id`) VALUES (1399729025840140290, 'leave', '请假流程表单', '{column:[{type:\'datetimerange\',label:\'请假时间\',span:12,display:true,format:\'yyyy-MM-dd HH:mm:ss\',valueFormat:\'yyyy-MM-dd HH:mm:ss\',prop:\'datetime\',required:true,rules:[{required:true,message:\'开始时间必须填写\'}],change:(res) => {\r\n  const value = res.value\r\n  if (!value || value.length == 0) {\r\n    this.$set(this.form, \'days\', undefined)\r\n  } else {\r\n    const d1 = Date.parse(value[0])\r\n    const d2 = Date.parse(value[1])\r\n    const day = (d2-d1)/(1*24*60*60*1000)\r\n    this.$set(this.form, \'days\', Number(day.toFixed(2)))\r\n  }\r\n}},{type:\'number\',label:\'请假天数\',span:12,display:true,prop:\'days\',required:true,rules:[{required:true,message:\'请假天数必须填写\'}],controls:true,controlsPosition:\'right\',change:(res) => {\n  const value = res.value\n  if (value) this.$set(this.form, \'reason\',\'请假\' + value + \'天\' )\n  else this.$set(this.form, \'reason\',\'\')\n}},{type:\'textarea\',label:\'请假理由\',span:24,display:true,prop:\'reason\',required:true,rules:[{required:true,message:\'请假理由必须填写\'}]}],labelPosition:\'left\',labelSuffix:\'：\',labelWidth:120,gutter:0,menuBtn:true,submitBtn:true,submitText:\'提交\',emptyBtn:true,emptyText:\'清空\',menuPosition:\'center\'}', '{\"column\":[{\"type\":\"datetimerange\",\"label\":\"请假时间\",\"span\":12,\"display\":true,\"format\":\"yyyy-MM-dd HH:mm:ss\",\"valueFormat\":\"yyyy-MM-dd HH:mm:ss\",\"prop\":\"datetime\",\"required\":true,\"rules\":[{\"required\":true,\"message\":\"开始时间必须填写\"}],\"change\":\"(res) => {\\r\\n  const value = res.value\\r\\n  if (!value || value.length == 0) {\\r\\n    this.$set(this.form, \'days\', undefined)\\r\\n  } else {\\r\\n    const d1 = Date.parse(value[0])\\r\\n    const d2 = Date.parse(value[1])\\r\\n    const day = (d2-d1)/(1*24*60*60*1000)\\r\\n    this.$set(this.form, \'days\', Number(day.toFixed(2)))\\r\\n  }\\r\\n}\"},{\"type\":\"number\",\"label\":\"请假天数\",\"span\":12,\"display\":true,\"prop\":\"days\",\"required\":true,\"rules\":[{\"required\":true,\"message\":\"请假天数必须填写\"}],\"controls\":true,\"controlsPosition\":\"right\",\"change\":\"(res) => {\\n  const value = res.value\\n  if (value) this.$set(this.form, \'reason\',\'请假\' + value + \'天\' )\\n  else this.$set(this.form, \'reason\',\'\')\\n}\"},{\"type\":\"textarea\",\"label\":\"请假理由\",\"span\":24,\"display\":true,\"prop\":\"reason\",\"required\":true,\"rules\":[{\"required\":true,\"message\":\"请假理由必须填写\"}]}],\"labelPosition\":\"left\",\"labelSuffix\":\"：\",\"labelWidth\":120,\"gutter\":0,\"menuBtn\":true,\"submitBtn\":true,\"submitText\":\"提交\",\"emptyBtn\":true,\"emptyText\":\"清空\",\"menuPosition\":\"center\"}', 1, -1, '', 1123598821738675201, 1123598813738675201, '2021-06-01 22:06:20', 1123598821738675201, '2021-10-31 20:19:16', 1, 0, '000000');
