##### 更新日志

###### 1.3.4.RELEASE [2021-12-13]

- [新增] 流程运维所有流程列表
- [新增] 移动端`子表单`组件，H5自定义组件用法。(uniapp小程序不支持动态组件)
- [优化] 人员选择业务组件
- [优化] 表单设计增加字段/修改字段属性时无需重新点击节点初始化，重新部署即可。系统会根据当前节点状态以及是否是流程拥有者来判断可读可写，若判断不准确，还是请前往模型设计中自行配置节点的可读可写
- [修复] 多实例并行指定人员进行动态加减签报错的问题

###### 1.3.3.RELEASE [2021-12-03]

- [新增] 人员配置/流转条件调用service方法，具体使用可查看示例
- [新增] 我的请求增加`被驳回` `已撤回`两个瞬时流程状态，方便查找
- [新增] `流程设计器`表单配置可读可写增加批量设置
- [新增] `流程设计器`监听字段注入配置
- [新增] `流程设计器`配置审核表单隐藏审批附件属性
- [新增] 模型设计列表拷贝xml功能，方便流程复用
- [优化] 指定下一步审核人，若下一节点为多实例并行，则会根据选择的人员进行动态加减签
- [优化] 重新部署模型时，流水号自动继承上一次部署流程的自增序列
- [优化] `流程设计器`初始化xml，简化新建流程的配置
- [优化] 表单设计标题显示，方便查看当前设计的表单名称
- [优化] 若流程提前被终结/被撤销，流程图不再显示终结节点之后的审批人员
- [修复] 模型设计/发起流程列表 点击左侧分类报错的问题
- [修复] 移动端`select` `checkbox`组件字典初始化错误的问题
- [修复] 移动端列表分页未处理触底事件的问题

###### 1.3.2.RELEASE [2021-11-21]

- [新增] 审批意见上传附件
- [新增] 待办列表 表单条件搜索
- [修复] 多实例配置人员顺序错乱的问题
- [修复] 外置表单错误处理事件的问题
- [修复] 列表分页结果正确，但返回的分页参数错误的问题
- [修复] 移动端已办显示节点错误的问题
- [优化] 流程运维详情排除事件，防止前端报错
- [优化] 发起/审核时提交表单校验提示形式，防止表单过长时查找不到错误信息

###### 1.3.1.RELEASE [2021-11-14]

- [新增] 流程撤回/撤销功能
- [修复] 流程图中互斥网关图标展示错误的问题
- [修复] `表单设计器`样式可能会影响到Saber的问题
- [优化] 办结列表 现改为查询任务
- [优化] 待办/待签/已办/我的请求/办结列表查询方式
- [优化] 待办/待签/已办/我的请求/办结列表搜索展示样式，完善搜索条件

###### 1.3.0.RELEASE [2021-10-31]

:tada: :tada::tada:基于Rider的工作流插件正式发布。已基本适配H5与微信小程序，其他各端适配中。

- [新增] 基于Rider的工作流插件
- [新增] 流程平台权限。除PC可以看到所有部署的流程外，其他各端需配置平台权限。若不需此功能请查看文档升级指南5.3
- [新增] `流程设计器`关联自流程配置
- [修复] `流程设计器`配置人员时，类型重复的问题
- [优化] 简化`流程设计器`信号等配置

###### 1.2.10.RELEASE [2021-10-15]

- [新增] 独立表单设计模式表单配置校验
- [修复] 多实例串行配置人员顺序错乱的问题
- [修复] 驳回流程时可能会报错的问题
- [修复] 子流程多实例部分配置缺失的问题

###### 1.2.9.RELEASE [2021-10-11]

- [新增] `流程设计器`独立表单配置，现在每个节点可以单独配置表单了
- [优化] `流程设计器`删除旧版人员配置方式及相关依赖，减小打包体积
- [修复] `表单设计器`上传组件配置了水印，上传非图片类文件报错的问题
- [修复] 若开启了水印，流程详情打印时不显示水印的问题

###### 1.2.8.RELEASE [2021-09-24]

- [新增] 流程图预览时`拖动`、`缩放`功能
- [新增] 表单详情主题，现内置两个基本主题
- [优化] 流程图弹窗样式
- [优化] 外置表单模版
- [修复] 修改tag名称后，重复点击tag会导致重复的问题。详见使用文档`常见问题`
- [修复] 表单详情有字段联动时报错的问题
- [修复] 并行网关节点指定审核人错误的问题

###### 1.2.7.RELEASE [2021-09-06]

- [新增] 模型、模型历史、表单、表单历史与现有流程分类关联
- [修复] 业务预留口任务实例查询方法错误的问题
- [修复] 重新提交回到驳回人时，未设置流程变量的问题

###### 1.2.6.RELEASE [2021-09-03]

- [新增] 流程图预览现在可以看到未到达节点的候选人
- [新增] 流程按钮新增是否默认展示
- [新增] `表单设计器`通用配置字段，防止重复配置，有效节约时间
- [新增] `流程设计器`用户节点重新提交回到驳回人选项，例：假如D驳回到A，A重新发起时直接到D，跳过B、C
- [优化] `表单设计器`预览时也可以看到联动效果
- [优化] 人员配置后台逻辑，普通节点/多实例节点统一一个方法
- [优化] 部分方法适配子流程
- [优化] 流程驳回逻辑，删除部分无用代码
- [修复] `流程设计器`外置表单url配置无效的问题

###### 1.2.5.RELEASE [2021-08-23]

:warning: cloud版需要依赖bladex2.8.2版本的`org.springblade.system.user.feign.IUserSearchClient`，boot版需要依赖baldex2.8.2版本的`org.springblade.modules.system.service.IUserSearchService`，请确保有相关依赖后再进行升级！

- [新增] 表单自定义业务字段示例，具体查看使用文档`常见问题`
- [新增] 表单字段联动示例
- [优化] 为了更好的适配mysql、oracle、postgres数据库，修改某些关键字字段名，并增加相应的sql脚本。

###### 1.2.4.RELEASE [2021-08-20]

:warning: cloud版需要依赖bladex2.8.2版本的`org.springblade.system.user.feign.IUserSearchClient`，请确保有相关依赖后再进行升级！

- [新增] 发起流程时存为草稿功能，下次进入相同流程时会提示是否回填草稿箱中的内容，成功发起流程后自动清除草稿箱
- [新增] `流程设计器`任务/开始节点上支持默认抄送人配置
- [新增] `流程设计器`开始节点上支持隐藏抄送人、隐藏下一审核人配置选项
- [修复] 模型历史请求参数错误的问题

###### 1.2.3.RELEASE [2021-08-13]

- [新增] `流程设计器`节点上支持驳回节点配置，节点若不配置则使用流程配置的驳回节点，流程若不配置默认驳回到上一节点
- [优化] 表单上传组件，预览时如果是视频或图片则打开预览，如果是其他格式则会下载。需要更新avue至2.8.18
- [修复] 消息预留口中类型错误的问题

###### 1.2.2.RELEASE [2021-08-06]

- [新增] 流程运维模块中办结流程，可查看当前租户下所有办结流程
- [新增] `表单设计器`子表单事件配置
- [优化] 人员配置选择组件
- [修复] 流程运维中查看详情未处理外置表单的问题
- [修复] 表单设计中修改状态无效的问题
- [修复] 模型设计中表单预览样式问题
- [修复] 部分页面流程分类选择类型错误的问题

###### 1.2.1.RELEASE [2021-07-29]

- [新增] 表单事件处理，现在可以通过配置实现字段间的自由联动(具体可查看请假流程表单例子)
- [优化] `表单设计器`事件配置方式
- [优化] 模型列表查询速度 
- [修复] 部署表单无法获取租户的问题
- [修复] 流程控制按钮权限字符串错误的问题

###### 1.2.0.RELEASE [2021-07-23]

:warning: 本次更新需升级flowable版本至6.6.0，需修改部分配置，详见使用文档中的`升级指南`。

- [新增] 流程发起权限控制，支持权限到人/角色/部门/职位
- [新增] 多实例节点审批加签操作，可用于临时添加审批人
- [新增] 流程运维模块中 `加签`、`减签`操作

###### 1.1.3.RELEASE [2021-07-16]

- [新增] 流程运维模块，管理员可对进行中的任务进行 `通过`、`驳回`、`变更审核人`、`转办`、`委托`、`终止`、`抄送`、`催办`、`指定回退`、`调度至任意节点`等操作的流程干预
- [新增] `流程设计器` 中 `信号配置`配置
- [优化] 指定下一步审核人现变更为多选，若下一节点为多实例并行，则会根据选择的审核人进行循环分配。若不是多实例并行，则只有选择的第一个人有效。
- [修复] 审核表单未处理已配置的正则的问题
- [修复] 流程配置人员选择搜索错误的问题

###### 1.1.2.RELEASE [2021-07-06]

- [新增] `流程设计器` 中 `开始事件`、 `结束事件`、 `中间事件`、 `边界事件` 中的 `定时`、`信号`、`条件`等事件配置
- [新增] 发起流程时配置下一节点审核人、抄送人
- [优化] 流程列表和详情中的流程图展示形式，现在增加了最新的节点审核信息
- [修复] 数据库索引未添加租户id的问题
- [修复] 表单历史、流程历史分页错误的问题
- [修复] 外置表单抄送详情无法显示的问题

###### 1.1.1.RELEASE [2021-07-01]

- [新增] `流程设计器`国际化配置，目前支持中文、英文
- [新增] `流程设计器`人员选择弹窗字段、返回结构等自定义配置。适用于修改了框架自带的组织架构时使用
- [优化] 待办、待签、已办、办结 、我的请求列表查询速度
- [修复] 人员选择组件选择状态切换错误的问题

###### 1.1.0.RELEASE [2021-06-25]

为了更方便、简洁的配置，本次更新存在部分不兼容配置，请谨慎升级。

:warning: 本次升级依赖bladex2.8.2 `dev`分支中的四个接口，分别是`/api/blade-user/search/user`  `/api/blade-system/search/role`  `/api/blade-system/search/dept`  `/api/blade-system/search/post` 四个接口，对应`人员选择` `角色选择`  `部门选择` `职位选择`。请确保自己的项目中有这四个接口再进行升级！

- [新增] 新的人员配置方式，支持任意人员自定义配置（需配合后台使用）。兼容之前配置，并支持一键切换之前的选择方式。详见使用文档
- [新增] 表达式配置，此配置为了更加方便的快捷选择。详见使用文档
- [新增] 节点内多次转办、委托操作详细日志记录
- [优化] 简化`流程设计器`多实例配置
- [优化] `流程设计器`自定义表单业务字段子属性配置（参考子表单）
- [修复] 当流程只有开始和结束节点时启动流程报错的问题
- [修复] 当表单只配置了group时，审批可能会出现错误的问题

###### 1.0.7.RELEASE [2021-06-09]

- [新增] 外置表单配置。复杂的业务可能会导致`表单设计器`不适用的情况，用户可自行书写表单，结合模版或demo项目可快速配置一个流程表单，已提供审核的基本功能，理论上只需要关心表单字段显隐的问题（可配置，逻辑需要自行处理）
- [新增] 流程流转消息推送唯一预留口，用户可在此处理消息推送或保存到业务数据表，详见`org.springblade.plugin.workflow.process.service.impl.WfNoticeServiceImpl`
- [新增] `流程设计器`节点表单配置选项中`隐藏抄送人` `隐藏选择下一节点审核人`选项
- [新增] 支持多租户，详见使用文档
- [修复] 转办、代理未处理抄送的错误

###### 1.0.6.RELEASE [2021-06-01]

- [新增] `流程设计器`自动跳过第一节点配置，适用于第一节点为发起人的情况
- [新增] `流程设计器`默认驳回节点配置，不配置则默认驳回到上一节点
- [新增] `表单设计器`字段默认值配置，支持固定值或变量
- [修复] 指定退回可能会导致异常的问题

###### 1.0.5.RELEASE [2021-05-28]

- [新增] `流程设计器`流水号配置
- [优化] 流程详情查询逻辑，加快查询速度
- [优化] `流程设计器`按钮配置，现在可配置子表单中的字段
- [优化] 待办、待签、已办、办结等页面增加查询条件
- [修复] 签收任务后路由跳转错误的问题

###### 1.0.4.RELEASE [2021-05-25]

- [新增] 模型、表单历史版本回退。增加了两个路由，请添加到`/src/router/views/index.js`中

  ```js
  {
    path: 'design/model/history/:id',
    name: '模型历史',
    component: () =>
    	import( /* webpackChunkName: "views" */ '@/views/plugin/workflow/design/model-history'),
  },
  {
  	path: 'design/form/history/:id',
  	name: '表单历史',
  	component: () =>
    	import( /* webpackChunkName: "views" */ '@/views/plugin/workflow/design/form-history'),
  },
  ```

- [优化] 模型、表单删除逻辑，可选择全部删除或回退到最后版本
- [修复] 审批通过时，下一节点审批人可能会出现错误的问题
- [文档] 增加部分按钮权限配置，详见doc/update

###### 1.0.3.RELEASE [2021-05-24]

- [新增] blade-workflow-boot项目
- [新增] 模型设计时流程设计可全屏选项
- [优化] 批复意见现在分为批复意见、转办意见、委托意见、驳回意见、终止意见
- [修复] 用户为多角色时，待办/待签列表不显示任务的问题
- [修复] 驳回任务时，批复意见不显示的问题
- [修复] `表单设计器`子表单无必填选项的问题
- [例行工作] Saber同步官方2.8.1版本

###### 1.0.2.RELEASE [2021-05-21]

- [新增] 全局任务监听，流程监听。`org.springblade.plugin.workflow.core.config`
  可配置监听哪些事件。`org.springblade.plugin.workflow.process.listener.WfGrobalListener.java`中可自定义业务
- [新增] 流程审批可退回到指定节点
- [新增] 流程终止
- [新增] 我的已办（不一定办结，区别于办结事宜）
- [优化] 驳回无需再配置连线，默认驳回到上一节点，如果上一节点是开始节点，则流程终止
- [修复] 表单配置了分组后，发起流程报错的问题
- [修复] 一个人参与了流程中的两个节点，办结事宜重复的问题
- [文档] 增加部分按钮权限配置，详见doc/update

###### 1.0.1.RELEASE [2021-05-19]

- [新增] 表单设计支持拷贝，方便表单复用
- [优化] 发起流程不再显示已挂起的流程
- [优化] 流程部署中删除增加二次确认，:warning: 此操作会删除所有进行中的流程实例，并且无法恢复
- [修复] 前端权限控制与数据库配置不一致的问题
- [修复] 模型设计删除按钮无效的问题
- [文档] 增加部分按钮权限配置，详见doc/update

###### 1.0.0.RELEASE [2021-05-19]

流程设计

- 动态表单配置：表单设计器支持自定义业务组件，详见[文档及demo项目](https://gitee.com/sscgh/avue-form-design/wikis/Home?sort_id=3060541)
- 流程节点按钮配置：目前支持`同意` `驳回` `转办` `委托` `打印`
- 流程分类配置
- 模型设计：流程设计器兼容flowable-modeler-ui（连线除外，不影响使用）。融合动态表单。众多丰富灵活的配置。

流程事务

- 发起流程
- 待办事宜（包含待签）
- 我的请求
- 办结事宜
- 待签事务
- 转发事宜